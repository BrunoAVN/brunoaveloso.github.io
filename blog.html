---
layout: default
title: Todas as Notícias
---

<section class="section">
    <div class="section-container">
        <div class="section-header">
            <h1 class="section-title">Todas as Notícias</h1>
            <p class="section-subtitle">Acompanhe todas as atualizações e descobertas do grupo.</p>
        </div>

        <!-- Filtro de Categorias -->
        <div class="news-filter">
            <button class="filter-btn active" data-category="all">Todas</button>
            {% assign all_categories = "" | split: "" %}
            {% for post in site.posts %}
                {% if post.categories %}
                    {% assign all_categories = all_categories | concat: post.categories %}
                {% endif %}
            {% endfor %}
            {% assign unique_categories = all_categories | uniq | sort %}
            {% for category in unique_categories %}
            <button class="filter-btn" data-category="{{ category }}">{{ category }}</button>
            {% endfor %}
        </div>

        <div class="news-grid" id="newsGrid">
            {% for post in site.posts %}
            <article class="news-card" data-categories="{{ post.categories | join: ',' }}">
                {% if post.image %}
                <div class="news-image" style="background-image: url('{{ post.image }}')"></div>
                {% else %}
                <div class="news-image news-image-placeholder">
                    <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z"/>
                        <circle cx="9" cy="9" r="2"/>
                        <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
                    </svg>
                </div>
                {% endif %}
                
                <div class="news-content">
                    <div class="news-meta">
                        <time datetime="{{ post.date | date_to_xmlschema }}">
                            {{ post.date | date: "%d/%m/%Y" }}
                        </time>
                        <div class="news-categories">
                            {% for cat in post.categories %}
                            <span class="news-category">{{ cat }}</span>
                            {% endfor %}
                        </div>
                    </div>
                    
                    <h3 class="news-title">
                        <a href="{{ post.url }}">{{ post.title }}</a>
                    </h3>
                    
                    <p class="news-excerpt">
                        {% if post.excerpt %}
                            {{ post.excerpt | strip_html | truncatewords: 25 }}
                        {% else %}
                            {{ post.content | strip_html | truncatewords: 25 }}
                        {% endif %}
                    </p>
                    
                    <a href="{{ post.url }}" class="news-read-more">
                        Ler mais →
                    </a>
                </div>
            </article>
            {% endfor %}
        </div>

        <div id="noResults" class="no-results" style="display: none;">
            <p>Nenhuma notícia encontrada nesta categoria.</p>
        </div>
    </div>
</section>

<script>
    // Filtro de categorias (suporta múltiplas categorias por post)
    document.addEventListener('DOMContentLoaded', function() {
        const filterBtns = document.querySelectorAll('.filter-btn');
        const newsCards = document.querySelectorAll('.news-card');
        const noResults = document.getElementById('noResults');

        filterBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const selectedCategory = this.getAttribute('data-category');
                
                // Atualiza botão ativo
                filterBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                // Filtra cards
                let visibleCount = 0;
                newsCards.forEach(card => {
                    const cardCategories = card.getAttribute('data-categories').split(',');
                    
                    // Mostra se for "all" ou se o post contém a categoria selecionada
                    if (selectedCategory === 'all' || cardCategories.includes(selectedCategory)) {
                        card.style.display = 'flex';
                        visibleCount++;
                    } else {
                        card.style.display = 'none';
                    }
                });

                // Mostra mensagem se não houver resultados
                noResults.style.display = visibleCount === 0 ? 'block' : 'none';
            });
        });
    });
</script>